<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agenda Personnel</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- √âCRAN DE BIENVENUE -->
  <div id="welcome-screen" class="screen">
    <h1>Bienvenue</h1>
    <p>Choisissez votre langue</p>

    <div class="lang-buttons">
      <button class="lang-btn" data-lang="fr">Fran√ßais</button>
      <button class="lang-btn" data-lang="en">English</button>
    </div>
  </div>

  <!-- √âCRAN PRINCIPAL -->
  <div id="app-screen" class="screen hidden">
    <h2 id="greeting"></h2>

    <div class="card">
      <h3>üìÖ Calendrier</h3>
      <p>(fonction calendrier √† venir)</p>
    </div>

    <div class="card">
      <h3>üìù Activit√©s</h3>
      <p>(fonction activit√©s √† venir)</p>
    </div>
  </div>

   <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
  <script>
document.addEventListener("DOMContentLoaded", () => {

  alert("JS charg√© !");

  const welcomeScreen = document.getElementById("welcome-screen");
  const appScreen = document.getElementById("app-screen");
  const greeting = document.getElementById("greeting");
  const langButtons = document.querySelectorAll(".lang-btn");

  const savedName = localStorage.getItem("username");
  const savedLang = localStorage.getItem("language");

  if (savedName && savedLang) {
    showApp(savedName);
  }

  langButtons.forEach(button => {
    button.addEventListener("click", () => {
      const lang = button.dataset.lang;
      localStorage.setItem("language", lang);

      const name = prompt(
        lang === "fr"
          ? "Quel est votre pr√©nom ?"
          : "What is your name?"
      );

      if (!name) return;

      localStorage.setItem("username", name);
      showApp(name);
    });
  });

  function showApp(name) {
    welcomeScreen.classList.add("hidden");
    appScreen.classList.remove("hidden");

    const hour = new Date().getHours();
    const hello = hour < 18 ? "Bonjour" : "Bonsoir";

    greeting.textContent = ${hello} ${name};
  }

});
</script>
</body>
</html>
